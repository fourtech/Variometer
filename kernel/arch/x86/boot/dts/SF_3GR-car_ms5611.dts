/dts-v1/;

#include "xgold/sofia_3gr_soc/irq-car.h"
#include <dt-bindings/sensor-dev.h>
#include <dt-bindings/sofiafb/sofia_fb.h>
#include <dt-bindings/touchscreen_type.h>
#include <dt-bindings/gpio/gpio.h>

/ {
	#address-cells = <1>;
	#size-cells = <1>;
	model = "intel,sofia_3gr_soc";
	compatible = "intel,sofia_3gr_soc-svb", "intel,xgold";

	#include "xgold/sofia_3gr_soc/sofia_3gr_soc.dtsi"
	#include "xgold/sofia_3gr_soc/irq.dtsi"
	#include "xgold/mobilevisor/mobilevisor.dtsi"
	#include "xgold/sofia_3gr_soc/clock-es1.dtsi"
	#include "xgold/sofia_3gr_soc/regulator.dtsi"
	#include "xgold/sofia_3gr_soc/device-pm-reg.dtsi"
	#include "xgold/pmic/granite.dtsi"
	#include "xgold/sofia_3gr_soc/cpufreq.dtsi"
	#include "xgold/pmic/agold_pmic.dtsi"
	#include "xgold/pmic/pmic_virt_domain.dtsi"
	#include "xgold/pmic/pmic_prh.dtsi"
	chosen {
	};

	aliases {
	};

	memory {
		device_type = "memory";
		reg = <0x800000 0x1800000>;
	};

	reserved-memory {
		#address-cells = <1>;
		#size-cells = <1>;
		ranges;

		/* global autoconfigured region for contiguous allocations */
		cma_default_region: region@0 {
			size = <0x04800000>; /* 72 MiB */
			limit = <0x00000000>; /* 256 MiB */
			linux,cma-default;
		};
	};

	vmodem {
		compatible = "intel,vmodem";
		reg = < 0x1D000000 0x02C00000 >;
	};

	ion {
		compatible = "rockchip,ion";
		#address-cells = <1>;
		#size-cells = <0>;
		cma-heap {
			memory-region = <&cma_default_region>;
			rockchip,ion_heap = <4>;
		};
		system-heap {
			rockchip,ion_heap = <0>;
		};
	};

	backlight: agold620-backlight {
		compatible = "intel,agold620-led";
		reg = <0xE6501800 0x154
				0xE6401134 0x4>;
		reg-names = "pmu-bl", "cgu-bl";
		intel,flags-use-safe-ctrl;
		pm,class-name = "bl_class";
		pm,user-name = "bl";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";
		/*
		 * intel,run-mode
		 * 1:free running,2:analog feedback
		 * 3,digital control
		 */
		intel,run-mode = <1>;
		intel,led-polarity = <0>; //(free running need)
		intel,led-max-brightness = <160>; //(free running need)
		intel,led-min-brightness = <1>; //(free running need)
		intel,default-brightness-level = <60>;
		/*
		 * intel,ref-voltage
		 * 0:100mv, 1:150mv
		 * 2:200mv (analog feedback need)
		 */
		intel,ref-voltage = <2>;
		intel,cabc = <0>; //for all mode
		intel,bl-gpio-enable = <&abb_pmx_gpio 32 0>;
		//pinctrl-names = "default", "sleep", "inactive";
		//pinctrl-0 = <&led_agold_default_pins>;
		//pinctrl-1 = <&led_agold_sleep_pins>;
		//pinctrl-2 = <&led_agold_inactive_pins>;
	};

	hallsensor {
		compatible = "hall_och165t";
		interrupt-parent = <&eint>;
		interrupts = <EINT_EXI11 XGOLD_IRQ_TYPE_EDGE_FALLING>;
		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&hall_default_pins>;
		pinctrl-1 = <&hall_sleep_pins>;
		pinctrl-2 = <&hall_inactive_pins>;
		irq-gpio = <&xgold_pmx_gpio 32 IRQ_TYPE_LEVEL_LOW>;
		hall-active = <1>;
		status = "disabled";
	};

	key {
		compatible = "rockchip,key";
		power-key {
			interrupt-parent = <&eint>;
			interrupts = <EINT_EXI2 XGOLD_IRQ_TYPE_EDGE_FALLING>;
			gpios = <&xgold_pmx_gpio 1 IRQ_TYPE_LEVEL_LOW>;
			linux,code = <116>;
			label = "power";
			gpio-key,wakeup;
		};
	};

	fb {
		compatible = "rockchip,fb";
		rockchip,disp-mode = <NO_DUAL>;
#ifdef PTEST_KERNEL
		rockchip,loader-logo-on = <0>;
#else
		rockchip,loader-logo-on = <0>;
#endif
		rockchip,ion-drv = "rockchip";
	};

	acc_power: acc_power {
		compatible = "regulator-fixed";
		enable-active-high;
		gpio = <&xgold_pmx_gpio 65 GPIO_ACTIVE_HIGH>;
		regulator-name = "acc_power";
		regulator-always-on;
		regulator-boot-on;
	};

	gpio-det {
		compatible = "gpio-detection";
		status = "okay";
		pinctrl-0 = <&gpio_det_default_pins
			     &gpio_fire_default_pins>;
		pinctrl-names = "default";
		car-reverse {
			interrupt-parent = <&eint>;
			interrupts = < EINT_EXI4 XGOLD_IRQ_TYPE_EDGE_BOTH>;
			gpios = <&xgold_pmx_gpio 2 GPIO_ACTIVE_LOW>;
			label = "car-reverse";
			gpio,wakeup;

			4tech,support_uvc_reverse = <1>;
			4tech,uvc_reverse_gpio_reg = <0x1005>;
			4tech,uvc_chip_id = <0x70>;
			4tech,uvc_chip_id_reg = <0x101f>;
			4tech,uvc_reverse_status_reg = <0x09a2>;
			4tech,uvc_reverse_status = <0>;
			4tech,uvc_poll_ms = <300>;
		};

		car-acc {
			interrupt-parent = <&eint>;
			interrupts = <EINT_EXI7 XGOLD_IRQ_TYPE_EDGE_BOTH>;
			gpios = <&xgold_pmx_gpio 5 GPIO_ACTIVE_LOW>;
			label = "car-acc";
			gpio,wakeup;
		};
	};

	leds {
		compatible = "gpio-leds";
		//status = "disabled";
                ele-radar {
                        label = "ele-radar";
                        gpios = <&xgold_pmx_gpio 59 0>;
                        linux,default-trigger = "ele-radar-trigger";
                        default-state = "keep";
                        retain-state-suspended = <1>;
                };
	};

	loader-charge {
		compatible = "rockchip,loader-charge";
		rockchip,loader-charge-on = <0>;
		rockchip,loader-weak-volt = <3600>;
		rockchip,loader-weak-volt-dcp = <3800>;
		rockchip,loader-weak-volt-sdp = <3650>;
		rockchip,android-charge-on = <0>;
	};

	screen {
		compatible = "rockchip,screen","intel,screen";
		pm,class-name = "generic_class";
		pm,user-name = "lcd";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";
		backlight = <&backlight>;

		intel,display-gpio-reset = <&xgold_pmx_gpio 54 0>;
		#include "xgold/display/lcd-lvds_hx8249.dtsi"
		// #include "xgold/display/lcd-mipi_ili9806e-3.dtsi"
	};

#ifndef RECOVERY_KERNEL
	sound {
		compatible = "intel,xgold-snd-asoc";
		intel,audio-codec = < &afe >;
		intel,pcm-audio = <&pcm_music>;
		intel,pcm-voice = <&pcm_voice>;
		intel,speech = <&speech_probe>;
		/* intel,jack = <&headset>; */
	};
#endif

};

&cpufreq {
	intel,cpufreq-table-v1 = <416000 600000 728000 900000 1040000>;
	intel,voltage-table-v1 = <1000000 1100000 1150000 1200000 1250000>;
	intel,cpufreq-table-v2 = <416000 600000 728000 900000 1160000>;
	intel,voltage-table-v2 = <900000 1075000 1125000 1150000 1275000>;
};

&C6_MC4 {
	target-residency = <100000>; /* 15+20 (entry+exit+broadcast overhead) */
};

&idi_per {
	#include "xgold/agold620/agold620.dtsi"
};

&ag620_chrg {
	status = "okay";
};

&spcu_thermal2 {
	intel,over-heat-temp = <125000>;
};

&vibrator {
	loader_vibrator_time = <90>;
	loader_vibrator_intensity = <100>;
	linux_vibrator_time_adjust = <10>;
	linux_vibrator_intensity = <100>;
};

&abb_pmx_gpio {
	intel,gpiochip-base = <107>;
};

&usif1 {
	pinctrl-names = "default", "sleep", "inactive";
	pinctrl-0 = <&usif1_function_C_active_pins>;
	pinctrl-1 = <&usif1_function_C_sleep_pins>;
	pinctrl-2 = <&usif1_function_C_inactive_pins>;
	pm,state-D0 = "enable_96M_hperf";
	status = "okay";
};

&usif2 {
	pinctrl-names = "default", "sleep", "inactive";
	pinctrl-0 = <&usif2_default_pins>;
	pinctrl-1 = <&usif2_sleep_pins>;
	pinctrl-2 = <&usif2_inactive_pins>;
	// pm,state-D0 = "enable_96M_hperf";
	status = "disabled";
};

&fiq_debugger {
	status = "okay";
};

&pwm0 {
	pinctrl-names = "default", "sleep", "inactive";
	pinctrl-0 = <&pwm0_default_pins>;
	pinctrl-1 = <&pwm0_sleep_pins>;
	pinctrl-2 = <&pwm0_inactive_pins>;
	status = "disabled";
};

&i2c_1 {
	status = "okay";
	pinctrl-names = "default", "sleep", "inactive";
	pinctrl-0 = <&i2c1_default_pins>;
	pinctrl-1 = <&i2c1_sleep_pins>;
	pinctrl-2 = <&i2c1_inactive_pins>;

#ifndef RECOVERY_KERNEL
	afc0: af-controller@0 {
		//status = "disabled";
		compatible = "analog devices,ad5823-v4l2-i2c-subdev";
		reg = < 0x0C >;
	};

	afc1: af-controller@1 {
		//status = "disabled";
		compatible = "silicon touch,vm149C-v4l2-i2c-subdev";
		reg = < 0x0c >;
	};

	afc2: af-controller@2 {
		//status = "disabled";
		compatible = "whitus vision,wv511-v4l2-i2c-subdev";
		reg = < 0x0c >;
	};

	afc3: af-controller@3 {
		compatible = "dongwoon anatech,dw9714-v4l2-i2c-subdev";
		reg = < 0x0C >;
	};
#endif

#ifndef RECOVERY_KERNEL
	camera0: camera-module@0 {
		status = "disabled";
		compatible = "omnivision,ov13850-v4l2-i2c-subdev";
		reg = < 0x10 >;/*addr is 0x6C when SID set 0,else is 0x20*/
		device_type = "v4l2-i2c-subdev";

		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&cam1_default_pins>;
		pinctrl-1 = <&cam1_sleep_pins>;
		pinctrl-2 = <&cam1_inactive_pins>;

		intel,pd-gpio = <&xgold_pmx_gpio 14 0>;
		intel,pd-gpio-is_active_high;
		intel,rst-gpio = <&xgold_pmx_gpio 55 0>;
		intel,rst-gpio-is_active_high;
		//intel,pd-gpio_1v2 = <&xgold_pmx_gpio 68 0>;
		intel,flash-gpio = <&xgold_pmx_gpio 97 0>;
		intel,torch-gpio = <&xgold_pmx_gpio 96 0>;

		pm,class-name = "generic_class";
		pm,user-name = "primcam";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";

		intel,camera-module-facing = "back";
		intel,camera-module-mounting = "landscape";
		intel,camera-module-flash-support = <1>;
		intel,camera-module-flash-exp-time = <5000>;

		//intel,af-ctrl = <&afc0>;
		intel,camera-module-csi-config-0 {
			intel,csi-pixels-per-second = <0>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <2>;
			intel,csi-dphy1 = <0x2014203>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <0>;
		};
		intel,camera-module-csi-config-1 {
			intel,csi-pixels-per-second = <100000000>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <4>;
			intel,csi-dphy1 = <0x600e241>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <0>;
		};
	};
#endif

#ifndef RECOVERY_KERNEL
	camera1: camera-module@1 {
		status = "disabled";
		compatible = "omnivision,OV8858-v4l2-i2c-subdev";
		reg = < 0x10 >;/*addr is 0x6C when SID set 0,else is 0x20*/
		device_type = "v4l2-i2c-subdev";

		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&cam1_default_pins>;
		pinctrl-1 = <&cam1_sleep_pins>;
		pinctrl-2 = <&cam1_inactive_pins>;

		intel,pd-gpio = <&xgold_pmx_gpio 14 0>;
		intel,pd-gpio-is_active_high;
		intel,rst-gpio = <&xgold_pmx_gpio 55 0>;
		intel,rst-gpio-is_active_high;
		//intel,pd-gpio_1v2 = <&xgold_pmx_gpio 68 0>;
		//intel,flash-gpio = <&xgold_pmx_gpio 97 0>;
		//intel,torch-gpio = <&xgold_pmx_gpio 96 0>;

		pm,class-name = "generic_class";
		pm,user-name = "primcam";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";

		intel,camera-module-facing = "back";
		intel,camera-module-mounting = "landscape";
		intel,camera-module-flash-support = <1>;
		intel,camera-module-flash-exp-time = <5000>;
		rockchip,camera-module-name = "cmk-cb0695-fv1";
		rockchip,camera-module-len-name = "lg9569a2";
		rockchip,camera-module-fov-h = "66.0";
		rockchip,camera-module-fov-v = "50.1";
		rockchip,camera-module-orientation = <0>;
		rockchip,camera-module-iq-flip = <0>;
		rockchip,camera-module-iq-mirror = <0>;

		intel,af-ctrl = <&afc1>;
		intel,camera-module-csi-config-0 {
			intel,csi-pixels-per-second = <0>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <4>;
			intel,csi-dphy1 = <0x610a203>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <0>;
		};
	};
#endif

#ifndef RECOVERY_KERNEL
	camera2: camera-module@2 {
		status = "disabled";
		compatible = "omnivision,OV5648-v4l2-i2c-subdev";
		reg = < 0x36 >;/*addr is 0x6C when SID set 0,else is 0x20*/
		device_type = "v4l2-i2c-subdev";

		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&cam1_default_pins>;
		pinctrl-1 = <&cam1_sleep_pins>;
		pinctrl-2 = <&cam1_inactive_pins>;

		intel,pd-gpio = <&xgold_pmx_gpio 14 0>;
		intel,pd-gpio-is_active_high;
		intel,rst-gpio = <&xgold_pmx_gpio 55 0>;
		intel,rst-gpio-is_active_high;
		//intel,pd-gpio_1v2 = <&xgold_pmx_gpio 68 0>;
		//intel,flash-gpio = <&xgold_pmx_gpio 97 0>;
		//intel,torch-gpio = <&xgold_pmx_gpio 96 0>;

		pm,class-name = "generic_class";
		pm,user-name = "primcam";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";

		intel,camera-module-facing = "back";
		intel,camera-module-mounting = "landscape";
		intel,camera-module-flash-support = <1>;
		intel,camera-module-flash-exp-time = <5000>;
		rockchip,camera-module-name = "cmk-cw2392-fv1";
		rockchip,camera-module-len-name = "m5101";

		intel,af-ctrl = <&afc2>;
		intel,camera-module-csi-config-0 {
			intel,csi-pixels-per-second = <0>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <2>;
			intel,csi-dphy1 = <0x6208203>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <0>;
		};
	};
#endif

#ifndef RECOVERY_KERNEL
	camera3: camera-module@3 {
		status = "disabled";
		compatible = "superpix,sp5409-v4l2-i2c-subdev";
		reg = < 0x3c >;
		device_type = "v4l2-i2c-subdev";

		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&cam1_default_pins>;
		pinctrl-1 = <&cam1_sleep_pins>;
		pinctrl-2 = <&cam1_inactive_pins>;

		intel,pd-gpio = <&xgold_pmx_gpio 14 0>;
		//intel,pd-gpio_1v2 = <&xgold_pmx_gpio 68 0>;
		intel,pd-gpio-is_active_low;
		intel,rst-gpio = <&xgold_pmx_gpio 55 0>;
		intel,rst-gpio-is_active_low;
		intel,flash-gpio = <&xgold_pmx_gpio 37 0>;
		intel,torch-gpio = <&xgold_pmx_gpio 38 0>;
		intel.flash-driver = "FP6773C";

		pm,class-name = "generic_class";
		pm,user-name = "primcam";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";

		/* ["front","back"] */
		intel,camera-module-facing = "back";
		/* ["landscape","landscape-flipped","portrait",
			"portrait-flipped"] */
		intel,camera-module-mounting = "landscape";
		intel,camera-module-flash-support = <1>;
		intel,camera-module-flash-exp-time = <5000>;
		rockchip,camera-module-name = "std-hcd1018b5248-v0";
		rockchip,camera-module-len-name = "m0501a-100";

		intel,af-ctrl = <&afc3>;

		intel,camera-module-csi-config-0 {
			intel,csi-pixels-per-second = <0>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <2>;
			intel,csi-dphy1 = <0x608a1c1>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <0>;
		};
	};
#endif

#ifndef RECOVERY_KERNEL
	camera4: camera-module@4 {
		status = "disabled";
		compatible = "galaxycore,gc2155-v4l2-i2c-subdev";
		reg = < 0x3C >;/*addr is 0x6C when SID set 0,else is 0x20*/
		device_type = "v4l2-i2c-subdev";
		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&cam1_default_pins>;
		pinctrl-1 = <&cam1_sleep_pins>;
		pinctrl-2 = <&cam1_inactive_pins>;

		intel,pd-gpio = <&xgold_pmx_gpio 14 0>;
		intel,pd-gpio-is_active_low;
		intel,rst-gpio = <&xgold_pmx_gpio 55 0>;
		intel,rst-gpio-is_active_high;
		//intel,pd-gpio_1v2 = <&xgold_pmx_gpio 68>;
		intel,flash-gpio = <&xgold_pmx_gpio 37 0>;
		intel,torch-gpio = <&xgold_pmx_gpio 38 0>;

		pm,class-name = "generic_class";
		pm,user-name = "primcam";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";

		/* ["front","back"] */
		intel,camera-module-facing = "back";
		/* ["landscape","landscape-flipped","portrait",
			"portrait-flipped"] */
		intel,camera-module-mounting = "landscape";
		intel,camera-module-flash-support = <1>;
		intel,camera-module-flash-exp-time = <5000>;

		intel,camera-module-csi-config-0 {
			intel,csi-pixels-per-second = <0>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <2>;
			intel,csi-dphy1 = <0x2014203>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <0>;
		};
		intel,camera-module-csi-config-1 {
			intel,csi-pixels-per-second = <100000000>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <4>;
			intel,csi-dphy1 = <0x600e241>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <0>;
		};
	};
#endif

#ifndef RECOVERY_KERNEL
	camera5: camera-module@5 {
		status = "disabled";
		compatible = "superpix,sp2508-v4l2-i2c-subdev";
		reg = < 0x3c >;
		device_type = "v4l2-i2c-subdev";

		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&cam1_default_pins>;
		pinctrl-1 = <&cam1_sleep_pins>;
		pinctrl-2 = <&cam1_inactive_pins>;

		intel,pd-gpio = <&xgold_pmx_gpio 14 0>;
		intel,pd-gpio_1v2 = <&xgold_pmx_gpio 68 0>;
		intel,pd-gpio-is_active_low;
		intel,rst-gpio = <&xgold_pmx_gpio 55 0>;
		intel,rst-gpio-is_active_low;
		intel,flash-gpio = <&xgold_pmx_gpio 37 0>;
		intel,torch-gpio = <&xgold_pmx_gpio 38 0>;
		intel.flash-driver = "FP6773C";

		pm,class-name = "generic_class";
		pm,user-name = "primcam";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";

		/* ["front","back"] */
		intel,camera-module-facing = "back";
		/* ["landscape","landscape-flipped","portrait",
			"portrait-flipped"] */
		intel,camera-module-mounting = "landscape";
		intel,camera-module-flash-support = <1>;
		intel,camera-module-flash-exp-time = <5000>;

		intel,camera-module-csi-config-0 {
			intel,csi-pixels-per-second = <0>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <1>;
			intel,csi-dphy1 = <0x608a241>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <0>;
		};
	};
#endif

#ifndef RECOVERY_KERNEL
	camera6: camera-module@6 {
		  status = "okay";
		  compatible = "omnivision,ov2710-v4l2-i2c-subdev";
		  reg = < 0x36 >;
		  device_type = "v4l2-i2c-subdev";

		  pinctrl-names = "default", "sleep", "inactive";
		  pinctrl-0 = <&cam1_default_pins>;
		  pinctrl-1 = <&cam1_sleep_pins>;
		  pinctrl-2 = <&cam1_inactive_pins>;

		  intel,pd-gpio = <&xgold_pmx_gpio 14 0>;
		  intel,pd-gpio-is_active_low;
		  intel,rst-gpio = <&xgold_pmx_gpio 6 0>;
		  intel,rst-gpio-is_active_high;

		  pm,class-name = "generic_class";
		  pm,user-name = "seccam";
		  pm,state-D0 = "enable";
		  pm,state-D3 = "disable";

		  intel,camera-module-facing = "back";
		  intel,camera-module-mounting = "landscape";
		  intel,camera-module-flash-support = <0>;
		  intel,camera-module-flash-exp-time = <5000>;
		  rockchip,camera-module-name = "VH8-MIPI2710";
		  rockchip,camera-module-len-name = "cht835b";
		  rockchip,camera-module-fov-h = "75.0";
		  rockchip,camera-module-fov-v = "60.0";
		  rockchip,camera-module-orientation = <0>;
		  rockchip,camera-module-iq-flip = <1>;
		  rockchip,camera-module-iq-mirror = <1>;
		  rockchip,camera-module-flip = <1>;
		  rockchip,camera-module-mirror = <1>;

		  intel,camera-module-csi-config-0 {
			  intel,csi-pixels-per-second = <0>;
			  intel,csi-vc = <0>;
			  intel,csi-lanes = <1>;
			  intel,csi-dphy1 = <0x0608a183>;
			  intel,csi-dphy2 = <0x00>;
			  intel,csi-ana-bandgap-bias = <3>;
			  intel,csi-used = <0>;
		  };

	};
#endif

#ifndef RECOVERY_KERNEL
	camera7: camera-module@7 {
		  status = "disabled";
		  compatible = "omnivision,ov2718-v4l2-i2c-subdev";
		  reg = < 0x36 >;
		  device_type = "v4l2-i2c-subdev";

		  pinctrl-names = "default", "sleep", "inactive";
		  pinctrl-0 = <&cam1_default_pins>;
		  pinctrl-1 = <&cam1_sleep_pins>;
		  pinctrl-2 = <&cam1_inactive_pins>;

		  intel,pd-gpio = <&xgold_pmx_gpio 14 0>;
		  intel,pd-gpio-is_active_high;
		  intel,rst-gpio = <&xgold_pmx_gpio 6 0>;
		  intel,rst-gpio-is_active_high;

		  pm,class-name = "generic_class";
		  pm,user-name = "seccam";
		  pm,state-D0 = "enable";

		  intel,camera-module-facing = "back";
		  intel,camera-module-mounting = "landscape";
		  intel,camera-module-flash-support = <0>;
		  intel,camera-module-flash-exp-time = <5000>;
		  intel,camera-module-i2c-slow-down = <0>;
		  rockchip,camera-module-name = "N2-A33-MIPI2718";
		  rockchip,camera-module-len-name = "cht835b";
		  rockchip,camera-module-fov-h = "75.0";
		  rockchip,camera-module-fov-v = "60.0";
		  rockchip,camera-module-orientation = <0>;
		  rockchip,camera-module-iq-flip = <0>;
		  rockchip,camera-module-iq-mirror = <0>;
		  rockchip,camera-module-flip = <0>;
		  rockchip,camera-module-mirror = <0>;

		  intel,camera-module-csi-config-0 {
			  intel,csi-pixels-per-second = <0>;
			  intel,csi-vc = <0>;
			  intel,csi-lanes = <2>;
			  intel,csi-dphy1 = <0x06008183>;
			  intel,csi-dphy2 = <0x00>;
			  intel,csi-ana-bandgap-bias = <3>;
			  intel,csi-used = <0>;
		  };
	};
#endif

#ifndef RECOVERY_KERNEL
	camera8: camera-module@8 {
		status = "disabled";
		compatible = "galaxycore,xc6130-v4l2-i2c-subdev";
		reg = < 0x1B >;/*addr is 0x6C when SID set 0,else is 0x20*/
		device_type = "v4l2-i2c-subdev";
		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&cam1_default_pins>;
		pinctrl-1 = <&cam1_sleep_pins>;
		pinctrl-2 = <&cam1_inactive_pins>;

		intel,pd-gpio = <&xgold_pmx_gpio 14 0>;
		intel,pd-gpio-is_active_low;
		intel,rst-gpio = <&xgold_pmx_gpio 6 0>;
		intel,rst-gpio-is_active_low;
		//intel,pd-gpio_1v2 = <&xgold_pmx_gpio 68>;
		intel,flash-gpio = <&xgold_pmx_gpio 37 0>;
		intel,torch-gpio = <&xgold_pmx_gpio 38 0>;

		pm,class-name = "generic_class";
		pm,user-name = "primcam";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";

		/* ["front","back"] */
		intel,camera-module-facing = "back";
		/* ["landscape","landscape-flipped","portrait",
		"portrait-flipped"] */
		intel,camera-module-mounting = "landscape";
		intel,camera-module-flash-support = <1>;
		intel,camera-module-flash-exp-time = <5000>;

		intel,camera-module-csi-config-0 {
			intel,csi-pixels-per-second = <0>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <2>;
			intel,csi-dphy1 = <0x6210183>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <0>;
		};
	};
#endif

#ifndef RECOVERY_KERNEL
	camera9: camera-module@9 {
		status = "disabled";
		compatible = "omnivision,ov9732-v4l2-i2c-subdev";
		reg = < 0x36 >;
		device_type = "v4l2-i2c-subdev";

		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&cam1_default_pins>;
		pinctrl-1 = <&cam1_sleep_pins>;
		pinctrl-2 = <&cam1_inactive_pins>;

		intel,pd-gpio = <&xgold_pmx_gpio 14 0>;
		intel,pd-gpio-is_active_high;
		intel,rst-gpio = <&xgold_pmx_gpio 6 0>;
		intel,rst-gpio-is_active_high;

		pm,class-name = "generic_class";
		pm,user-name = "seccam";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";

		intel,camera-module-facing = "back";
		intel,camera-module-mounting = "landscape";
		intel,camera-module-flash-support = <1>;
		intel,camera-module-flash-exp-time = <5000>;
		rockchip,camera-module-name = "V900-OV09732-V02";
		rockchip,camera-module-len-name = "28188-17.4";
		rockchip,camera-module-fov-h = "75.0";
		rockchip,camera-module-fov-v = "60.0";
		rockchip,camera-module-orientation = <0>;
		rockchip,camera-module-iq-flip = <0>;
		rockchip,camera-module-iq-mirror = <0>;

		intel,camera-module-csi-config-0 {
			intel,csi-pixels-per-second = <0>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <1>;
			intel,csi-dphy1 = <0x0608a183>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <0>;
		};
	};
#endif

#ifndef RECOVERY_KERNEL
	camera10: camera-module@10 {
		status = "disabled";
		compatible = "SiliconOptronics,JX-H42-v4l2-i2c-subdev";
		reg = < 0x30 >;
		device_type = "v4l2-i2c-subdev";

		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&cam1_default_pins>;
		pinctrl-1 = <&cam1_sleep_pins>;
		pinctrl-2 = <&cam1_inactive_pins>;

		intel,pd-gpio = <&xgold_pmx_gpio 14 0>;
		intel,pd-gpio-is_active_low;
		intel,rst-gpio = <&xgold_pmx_gpio 6 0>;
		intel,rst-gpio-is_active_high;

		pm,class-name = "generic_class";
		pm,user-name = "seccam";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";

		intel,camera-module-facing = "back";
		intel,camera-module-mounting = "landscape";
		intel,camera-module-flash-support = <1>;
		intel,camera-module-flash-exp-time = <5000>;
		rockchip,camera-module-name = "ZHH42-S86-001";
		rockchip,camera-module-len-name = "zhh42";
		rockchip,camera-module-fov-h = "75.0";
		rockchip,camera-module-fov-v = "60.0";
		rockchip,camera-module-orientation = <0>;
		rockchip,camera-module-iq-flip = <0>;
		rockchip,camera-module-iq-mirror = <0>;

		intel,camera-module-csi-config-0 {
			intel,csi-pixels-per-second = <0>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <1>;
			intel,csi-dphy1 = <0x0608a183>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <0>;
		};

	};
#endif

#ifndef RECOVERY_KERNEL
	camera11: camera-module@11 {
		status = "disabled";
		compatible = "omnivision,ov2680-v4l2-i2c-subdev";
		reg = < 0x36 >;/*addr is 0x6C when SID set 0,else is 0x20*/
		device_type = "v4l2-i2c-subdev";

		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&cam2_default_pins>;
		pinctrl-1 = <&cam2_sleep_pins>;
		pinctrl-2 = <&cam2_inactive_pins>;

		intel,pd-gpio = <&xgold_pmx_gpio 15 0>;
		intel,pd-gpio-is_active_high;
		intel,rst-gpio = <&xgold_pmx_gpio 55 0>;
		intel,rst-gpio-is_active_high;
		//intel,pd-gpio_1v2 = <&xgold_pmx_gpio 68 0>;

		pm,class-name = "generic_class";
		pm,user-name = "seccam";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";

		intel,camera-module-facing = "front";
		intel,camera-module-mounting = "landscape";
		intel,camera-module-flash-support = <1>;
		intel,camera-module-flash-exp-time = <5000>;
		rockchip,camera-module-name = "cmk-cb0695-fv1";
		rockchip,camera-module-len-name = "cht835b";
		rockchip,camera-module-fov-h = "75.0";
		rockchip,camera-module-fov-v = "60.0";
		rockchip,camera-module-orientation = <0>;
		rockchip,camera-module-iq-flip = <0>;
		rockchip,camera-module-iq-mirror = <0>;

		intel,camera-module-csi-config-0 {
			intel,csi-pixels-per-second = <0>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <1>;
			intel,csi-dphy1 = <0x6284203>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <1>;
		};
	};
#endif

#ifndef RECOVERY_KERNEL
	camera12: camera-module@12 {
		status = "disabled";
		compatible = "galaxycore,gc2355-v4l2-i2c-subdev";
		reg = < 0x3C >;/*addr is 0x6C when SID set 0,else is 0x20*/
		device_type = "v4l2-i2c-subdev";
		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&cam2_default_pins>;
		pinctrl-1 = <&cam2_sleep_pins>;
		pinctrl-2 = <&cam2_inactive_pins>;

		intel,pd-gpio = <&xgold_pmx_gpio 15 0>;
		intel,pd-gpio-is_active_low;
		intel,rst-gpio = <&xgold_pmx_gpio 55 0>;
		intel,rst-gpio-is_active_high;
		intel,pd-gpio_1v2 = <&xgold_pmx_gpio 68 0>;
		intel,flash-gpio = <&xgold_pmx_gpio 37 0>;
		intel,torch-gpio = <&xgold_pmx_gpio 38 0>;

		pm,class-name = "generic_class";
		pm,user-name = "seccam";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";

		/* ["front","back"] */
		intel,camera-module-facing = "front";
		/* ["landscape","landscape-flipped","portrait",
			"portrait-flipped"] */
		intel,camera-module-mounting = "landscape";
		intel,camera-module-flash-support = <1>;
		intel,camera-module-flash-exp-time = <5000>;
		rockchip,camera-module-name = "cmk-cw-2392-fv1";
		rockchip,camera-module-len-name = "m206a-201";

		intel,camera-module-csi-config-0 {
			intel,csi-pixels-per-second = <0>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <1>;
			intel,csi-dphy1 = <0x6210203>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <1>;
		};
	};
#endif

#ifndef RECOVERY_KERNEL
	camera13: camera-module@13 {
		status = "disabled";
		compatible = "galaxycore,gc0310-v4l2-i2c-subdev";
		reg = < 0x21 >;/* 7bit address*/
		device_type = "v4l2-i2c-subdev";

		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&cam2_default_pins>;
		pinctrl-1 = <&cam2_sleep_pins>;
		pinctrl-2 = <&cam2_inactive_pins>;

		intel,pd-gpio = <&xgold_pmx_gpio 15 0>;
		intel,pd-gpio-is_active_low;
		intel,rst-gpio = <&xgold_pmx_gpio 55 0>;
		intel,rst-gpio-is_active_high;

		pm,class-name = "generic_class";
		pm,user-name = "seccam";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";

		intel,camera-module-facing = "front";
		/* ["landscape","landscape-flipped","portrait",
			"portrait-flipped"] */
		intel,camera-module-mounting = "landscape";
		intel,camera-module-flash-support = <1>;
		intel,camera-module-flash-exp-time = <5000>;

		intel,camera-module-csi-config-0 {
			intel,csi-pixels-per-second = <0>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <1>;
			intel,csi-dphy1 = <0x6012229>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <1>;
		};
	};
#endif

#ifndef RECOVERY_KERNEL
	camera14: camera-module@14 {
		status = "disabled";
		compatible = "superpix,sp0a20-v4l2-i2c-subdev";
		reg = < 0x21 >;
		device_type = "v4l2-i2c-subdev";

		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&cam2_default_pins>;
		pinctrl-1 = <&cam2_sleep_pins>;
		pinctrl-2 = <&cam2_inactive_pins>;

		intel,rst-gpio = <&xgold_pmx_gpio 55 0>;
		intel,rst-gpio-is_active_high;
		intel,pd-gpio = <&xgold_pmx_gpio 15 0>;
		intel,pd-gpio-is_active_low;

		pm,class-name = "generic_class";
		pm,user-name = "seccam";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";

		intel,camera-module-facing = "front";
		/* ["landscape","landscape-flipped","portrait",
			"portrait-flipped"] */
		intel,camera-module-mounting = "landscape";
		intel,camera-module-flash-support = <1>;
		intel,camera-module-flash-exp-time = <5000>;

		intel,camera-module-csi-config-0 {
			intel,csi-pixels-per-second = <0>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <1>;
			intel,csi-dphy1 = <0x608a241>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <1>;
		};
	};
#endif

#ifndef RECOVERY_KERNEL
	camera15: camera-module@15 {
		status = "disabled";
		compatible = "himax,hm2051-v4l2-i2c-subdev";
		reg = < 0x24 >;
		device_type = "v4l2-i2c-subdev";

		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&cam2_default_pins>;
		pinctrl-1 = <&cam2_sleep_pins>;
		pinctrl-2 = <&cam2_inactive_pins>;

		intel,rst-gpio = <&xgold_pmx_gpio 55 0>;
		intel,rst-gpio-is_active_high;
		intel,pd-gpio = <&xgold_pmx_gpio 15 0>;

		pm,class-name = "generic_class";
		pm,user-name = "seccam";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";

		intel,camera-module-facing = "front";
		/* ["landscape","landscape-flipped","portrait",
			"portrait-flipped"] */
		intel,camera-module-mounting = "landscape";
		intel,camera-module-flash-support = <1>;
		intel,camera-module-flash-exp-time = <5000>;

		intel,camera-module-csi-config-0 {
			intel,csi-pixels-per-second = <0>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <1>;
			intel,csi-dphy1 = <0x608a241>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <1>;
		};
	};
#endif

};

&i2c_2 {
	status = "okay";

	rk818: rk818@1c {
		reg = <0x1c>;
		status = "okay";
		compatible = "rockchip,rk818";
		interrupt-parent = <&eint>;
		interrupts = < EINT_EXI3 XGOLD_IRQ_TYPE_EDGE_FALLING >;
		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&pmu_default_pins>;
		pinctrl-1 = <&pmu_sleep_pins>;
		pinctrl-2 = <&pmu_inactive_pins>;
		notify_usb_det = <0>;
		pm,class-name = "generic_class";
		pm,user-name = "rk818_otg";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";
		regulators {
			rk81x_ldo1_reg: regulator@0 {
				regulator-name = "rk_ldo1";
				regulator-domain = <PMIC_DOMAIN_PMIC_LDO1>;
				regulator-81x-init-mode = <PMIC_MODE_ON>;
				regulator-81x-init-volt = <PMIC_VOLTAGE_1V80>;
				regulator-81x-slp-mode = <PMIC_MODE_ON>;
				regulator-81x-slp-volt = <PMIC_VOLTAGE_1V80>;
			};

			rk81x_ldo2_reg: regulator@1 {
				regulator-name = "rk_ldo2";
				regulator-domain = <PMIC_DOMAIN_PMIC_LDO2>;
				regulator-81x-init-mode = <PMIC_MODE_ON>;
				regulator-81x-init-volt = <PMIC_VOLTAGE_3V30>;
				regulator-81x-slp-mode = <PMIC_MODE_OFF>;
				regulator-81x-slp-volt = <PMIC_VOLTAGE_3V30>;
			};

			rk81x_ldo3_reg: regulator@2 {
				regulator-name = "rk_ldo3";
				regulator-domain = <PMIC_DOMAIN_PMIC_LDO3>;
				regulator-81x-init-mode = <PMIC_MODE_ON>;
				regulator-81x-init-volt = <PMIC_VOLTAGE_1V80>;
				regulator-81x-slp-mode = <PMIC_MODE_OFF>;
				regulator-81x-slp-volt = <PMIC_VOLTAGE_1V80>;
			};

			rk81x_ldo4_reg: regulator@3 {
				regulator-name = "rk_ldo4";
				regulator-domain = <PMIC_DOMAIN_PMIC_LDO4>;
				regulator-81x-init-mode = <PMIC_MODE_ON>;
				regulator-81x-init-volt = <PMIC_VOLTAGE_1V80>;
				regulator-81x-slp-mode = <PMIC_MODE_ON>;
				regulator-81x-slp-volt = <PMIC_VOLTAGE_1V80>;
			};

			rk81x_ldo5_reg: regulator@4 {
				regulator-name = "rk_ldo5";
				regulator-domain = <PMIC_DOMAIN_PMIC_LDO5>;
				regulator-81x-init-mode = <PMIC_MODE_ON>;
				regulator-81x-init-volt = <PMIC_VOLTAGE_3V00>;
				regulator-81x-slp-mode = <PMIC_MODE_OFF>;
				regulator-81x-slp-volt = <PMIC_VOLTAGE_3V00>;
			};

			rk81x_ldo6_reg: regulator@5 {
				regulator-name = "rk_ldo6";
				regulator-domain = <PMIC_DOMAIN_PMIC_LDO6>;
				regulator-81x-init-mode = <PMIC_MODE_OFF>;
				regulator-81x-init-volt = <PMIC_VOLTAGE_1V20>;
				regulator-81x-slp-mode = <PMIC_MODE_OFF>;
				regulator-81x-slp-volt = <PMIC_VOLTAGE_1V20>;
			};

			rk81x_ldo7_reg: regulator@6 {
				regulator-name = "rk_ldo7";
				regulator-domain = <PMIC_DOMAIN_PMIC_LDO7>;
				regulator-81x-init-mode = <PMIC_MODE_ON>;
				regulator-81x-init-volt = <PMIC_VOLTAGE_1V20>;
				regulator-81x-slp-mode = <PMIC_MODE_OFF>;
				regulator-81x-slp-volt = <PMIC_VOLTAGE_1V10>;
			};

			rk81x_ldo8_reg: regulator@7 {
				regulator-name = "rk_ldo8";
				regulator-domain = <PMIC_DOMAIN_PMIC_LDO8>;
				regulator-81x-init-mode = <PMIC_MODE_ON>;
				regulator-81x-init-volt = <PMIC_VOLTAGE_3V00>;
				regulator-81x-slp-mode = <PMIC_MODE_OFF>;
				regulator-81x-slp-volt = <PMIC_VOLTAGE_3V00>;
			};

			rk81x_ldo9_reg: regulator@8 {
				regulator-name = "rk_ldo9";
				regulator-domain = <PMIC_DOMAIN_PMIC_LDO9>;
				regulator-81x-init-mode = <PMIC_MODE_ON>;
				regulator-81x-init-volt = <PMIC_VOLTAGE_3V20>;
				regulator-81x-slp-mode = <PMIC_MODE_OFF>;
				regulator-81x-slp-volt = <PMIC_VOLTAGE_1V80>;
			};

			rk81x_buck1_reg: regulator@9 {
				regulator-name = "rk_buck1";
				regulator-domain = <PMIC_DOMAIN_PMIC_BUCK1>;
				regulator-81x-init-mode = <PMIC_MODE_ON>;
				regulator-81x-init-volt = <PMIC_VOLTAGE_1V30>;
				regulator-81x-slp-mode = <PMIC_MODE_ON>;
				regulator-81x-slp-volt = <PMIC_VOLTAGE_0V90>;
			};

			rk81x_buck2_reg: regulator@10 {
				regulator-name = "rk_buck2";
				regulator-domain = <PMIC_DOMAIN_PMIC_BUCK2>;
				regulator-81x-init-mode = <PMIC_MODE_ON>;
				regulator-81x-init-volt = <PMIC_VOLTAGE_1V20>;
				regulator-81x-slp-mode = <PMIC_MODE_ON>;
				regulator-81x-slp-volt = <PMIC_VOLTAGE_0V90>;
			};

			rk81x_buck3_reg: regulator@11 {
				regulator-name = "rk_buck3";
				regulator-domain = <PMIC_DOMAIN_PMIC_BUCK3>;
				regulator-81x-init-mode = <PMIC_MODE_ON>;
				regulator-81x-init-volt = <PMIC_VOLTAGE_1V20>;
				regulator-81x-slp-mode = <PMIC_MODE_ON>;
				regulator-81x-slp-volt = <PMIC_VOLTAGE_0V90>;
			};

			rk81x_buck4_reg: regulator@12 {
				regulator-name = "rk_buck4";
				regulator-domain = <PMIC_DOMAIN_PMIC_BUCK4>;
				regulator-81x-init-mode = <PMIC_MODE_ON>;
				regulator-81x-init-volt = <PMIC_VOLTAGE_3V20>;
				regulator-81x-slp-mode = <PMIC_MODE_ON>;
				regulator-81x-slp-volt = <PMIC_VOLTAGE_3V00>;
			};

			rk81x_boost_reg: regulator@13 {
				regulator-name = "rk_boost";
				regulator-domain = <PMIC_DOMAIN_PMIC_BOOST>;
				regulator-81x-init-mode = <PMIC_MODE_ON>;
				regulator-81x-init-volt = <PMIC_VOLTAGE_5V00>;
				regulator-81x-slp-mode = <PMIC_MODE_OFF>;
				regulator-81x-slp-volt = <PMIC_VOLTAGE_5V00>;
			};

			/* init voltage depends on rk81x_buck4_reg */
			rk81x_vswout_reg: regulator@14 {
				regulator-name = "rk_vswout";
				regulator-domain = <PMIC_DOMAIN_PMIC_VSWOUT>;
				regulator-81x-init-mode = <PMIC_MODE_ON>;
				regulator-81x-slp-mode = <PMIC_MODE_OFF>;
				regulator-slb-dis-on;
			};

			rk81x_h_5v_reg: regulator@15 {
				regulator-name = "rk_h_5v";
				regulator-domain = <PMIC_DOMAIN_H_5V>;
				regulator-81x-init-mode = <PMIC_MODE_OFF>;
				regulator-81x-slp-mode = <PMIC_MODE_OFF>;
			};

			rk81x_otg_reg: regulator@16 {
				regulator-name = "rk_otg";
				regulator-domain = <PMIC_DOMAIN_PMIC_OTG_5V>;
				regulator-81x-init-mode = <PMIC_MODE_OFF>;
				regulator-81x-slp-mode = <PMIC_MODE_OFF>;
			};
		};

		battery {
			ocv_table = <3300 3599 3671 3701 3728 3746 3762
				3772 3781 3792 3816 3836 3866 3910
				3942 3971 4002 4050 4088 4132 4183>;
			design_capacity = <3914>;
			design_qmax = <4000>;
			max_overcharge = <100>;
			bat_res = <135>;
			max_input_currentmA = <1750>;
			max_chrg_currentmA = <1400>;
			max_charge_voltagemV = <4260>;
			max_bat_voltagemV = <4200>;
			sleep_enter_current = <150>;
			sleep_exit_current = <180>;
			power_off_thresd = <3300>;
			chrg_diff_voltagemV = <60>;
			support_usb_adp = <1>;
			virtual_power = <1>;
		};
	};
};

&i2c_3 {
	status = "okay";
	pinctrl-names = "default", "sleep", "inactive";
	pinctrl-0 = <&i2c3_default_pins>;
	pinctrl-1 = <&i2c3_sleep_pins>;
	pinctrl-2 = <&i2c3_inactive_pins>;

#ifndef PTEST_KERNEL
	bma2x2 {
		compatible = "bma2xx_acc";
		reg = <0x18>;
		type = <SENSOR_TYPE_ACCEL>;
		interrupt-parent = <&eint>;
		interrupts = < EINT_EXI5 XGOLD_IRQ_TYPE_LEVEL_LOW >;
		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&gyroscope_default_pins>;
		pinctrl-1 = <&gyroscope_sleep_pins>;
		pinctrl-2 = <&gyroscope_inactive_pins>;
		irq-gpio = <&xgold_pmx_gpio 0 IRQ_TYPE_LEVEL_LOW>;
		irq_enable = <1>;
		irq_wake_up = <1>;
		poll_delay_ms = <200>;
		layout = <6>;
		slope_mode = <1>;
		interrupt_dur = <25>;
		interrupt_threshold = <160>;
		pm,class-name = "gsensor_class";
		pm,user-name = "gyroscope";
	};
#endif

#ifndef PTEST_KERNEL
	touchscreen {
		compatible = "Goodix,Goodix-gt9157";
		reg = < 0x14 >;
		interrupt-parent = <&eint>;
		interrupts = < EINT_EXI12 XGOLD_IRQ_TYPE_EDGE_FALLING >;
		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&touch_default_pins>;
		pinctrl-1 = <&touch_sleep_pins>;
		pinctrl-2 = <&touch_inactive_pins>;
		intel,ts-gpio-reset = <&xgold_pmx_gpio 19 0>;
		intel,ts-gpio-irq   = <&xgold_pmx_gpio 18 0>;
		touchscreen-type = <TOUCHSCREEN_TYPE_CAR_V03>;
		pm,class-name = "gt9xx_class";
		pm,user-name = "tp";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";
	};
#endif
};

&i2c_4 {
	status = "okay";
	pinctrl-names = "default", "sleep", "inactive";
	pinctrl-0 = <&i2c4_default_pins>;
	pinctrl-1 = <&i2c4_sleep_pins>;
	pinctrl-2 = <&i2c4_inactive_pins>;
#ifndef RECOVERY_KERNEL
	camera16: camera-module@16 {
		status = "disabled";
		compatible = "adi,adv7180-v4l2-i2c-subdev";
		reg = < 0x21 >;
		device_type = "v4l2-i2c-subdev";
		pinctrl-names = "default", "sleep", "inactive";
		pinctrl-0 = <&cif_default_pins>;
		pinctrl-1 = <&cif_sleep_pins>;
		pinctrl-2 = <&cif_inactive_pins>;
		intel,rst-gpio = <&xgold_pmx_gpio 57 0>;
		intel,rst-gpio-is_active_high;
		intel,vsync-gpio = <&xgold_pmx_gpio 55 1>;
		pm,class-name = "generic_class";
		pm,user-name = "seccam";
		pm,state-D0 = "enable";
		pm,state-D3 = "disable";

		intel,camera-module-facing = "back";
		intel,camera-module-mounting = "landscape";
		intel,camera-module-flash-support = <1>;
		intel,camera-module-flash-exp-time = <5000>;
		rockchip,camera-module-name = "adv7180";
		rockchip,camera-module-len-name = "adv7180";

		intel,camera-module-csi-config-0 {
			intel,csi-pixels-per-second = <0>;
			intel,csi-vc = <0>;
			intel,csi-lanes = <1>;
			intel,csi-dphy1 = <0x608a241>;
			intel,csi-dphy2 = <0x00>;
			intel,csi-ana-bandgap-bias = <3>;
			intel,csi-used = <0>;
		};
	};
#endif

#ifndef RECOVERY_KERNEL
	rda5820 {
		compatible = "rda5820";
		reg = <0x11>;
		status = "disabled";
	};
	kt0806 {
		compatible = "kt0806";
		reg = <0x36>;
		status = "disabled";
	};
	ms5611 {
		compatible = "ms5611";
		reg = <0x77>;
	};
#endif
};

&i2c_5 {
	pinctrl-names = "default", "sleep", "inactive";
	pinctrl-0 = <&i2c5_agold_default_pins>;
	pinctrl-1 = <&i2c5_agold_sleep_pins>;
	pinctrl-2 = <&i2c5_agold_inactive_pins>;
};

&agold_pmic {
	status = "okay";
	regulators {
		agold_laux1_reg: regulator@2 {
			regulator-name = "ag_laux1";
			regulator-domain = <PMIC_DOMAIN_LAUX1>;
			regulator-init-pulldown = <PMIC_PULLDOWN_EN>;
			regulator-init-mode = <PMIC_MODE_ON>;
			regulator-init-voltage = <PMIC_VOLTAGE_1V80>;
		};

		agold_laux2_reg: regulator@3 {
			regulator-name = "ag_laux2";
			regulator-domain = <PMIC_DOMAIN_LAUX2>;
			regulator-init-pulldown = <PMIC_PULLDOWN_EN>;
			regulator-init-mode = <PMIC_MODE_OFF_STDBY>;
			regulator-init-voltage = <PMIC_VOLTAGE_2V80>;
		};
	};
};

&pmic_virt_domain {
	status = "okay";
	virt_domain {
		vddp_mmc_reg {
			virt-domain = <PMIC_VDDP_MMC>;
			pmu-domain = <PMIC_DOMAIN_LMMC1>;
		};

		vddp_mmc_td_reg {
			virt-domain = <PMIC_VDDP_MMC_TD>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		/* IO power supply, don't switch off,
		 * so map to PMIC_DOMAIN_NOTCFG */
		vdd_vemmc_reg {
			virt-domain = <PMIC_VDD_VEMMC>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_sdio_reg {
			virt-domain = <PMIC_VDD_SDIO>;
			pmu-domain = <PMIC_DOMAIN_PMIC_LDO5>;
		};

		vdd_sd2_reg {
			virt-domain = <PMIC_VDD_SD2>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_mipi_csi_reg {
			virt-domain = <PMIC_VDD_MIPI_CSI>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_mipi_dsi_reg {
			virt-domain = <PMIC_VDD_MIPI_DSI>;
			pmu-domain = <PMIC_DOMAIN_LMIPI>;
		};

		vdd_digrf1_reg {
			virt-domain = <PMIC_VDD_DIGRF1>;
			pmu-domain = <PMIC_DOMAIN_LMIPI>;
		};

		vdd_usb_1v1_reg {
			virt-domain = <PMIC_VDD_USB_1V1>;
			pmu-domain = <PMIC_DOMAIN_LAIF>;
		};

		vdd_emic_dll_reg {
			virt-domain = <PMIC_VDD_EMIC_DLL>;
			pmu-domain = <PMIC_DOMAIN_PMIC_LDO3>;
		};

		vdd_idi_rx_reg {
			virt-domain = <PMIC_VDD_IDI_RX>;
			pmu-domain = <PMIC_DOMAIN_LAIF>;
		};

		vdd_usb_3v3_reg {
			virt-domain = <PMIC_VDD_USB_3V3>;
			pmu-domain = <PMIC_DOMAIN_LUSB>;
		};

		vddp_sim_reg {
			virt-domain = <PMIC_VDDP_SIM>;
			pmu-domain = <PMIC_DOMAIN_LSIM1>;
		};

		vddp_sim2_reg {
			virt-domain = <PMIC_VDDP_SIM2>;
			pmu-domain = <PMIC_DOMAIN_LSIM2>;
		};

		vdd_io_volt_touch_sensor_reg {
			virt-domain = <PMIC_VDD_IO_VOLT_TOUCH_SENSOR>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_cam_prim_analog_reg {
			virt-domain = <PMIC_VDD_CAM_PRIM_ANALOG>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_cam_sec_analog_reg {
			virt-domain = <PMIC_VDD_CAM_SEC_ANALOG>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_prim_display_reg {
			virt-domain = <PMIC_VDD_PRIM_DISPLAY>;
			pmu-domain = <PMIC_DOMAIN_PMIC_VSWOUT>;
		};

		vdd_touch_sensor_reg {
			virt-domain = <PMIC_VDD_TOUCH_SENSOR>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_proximity_sensor_reg {
			virt-domain = <PMIC_VDD_PROXIMITY_SENSOR>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_accelerometer_reg {
			virt-domain = <PMIC_VDD_ACCELEROMETER>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_magnetometer_reg {
			virt-domain = <PMIC_VDD_MAGNETOMETER>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_gyroscope_reg {
			virt-domain = <PMIC_VDD_GYROSCOPE>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_abb_gnss_tcxo_ldo_reg {
			virt-domain = <PMIC_VDD_ABB_GNSS_TCXO_LDO>;
			pmu-domain = <PMIC_DOMAIN_GNSS_TCXO_LDO>;
		};

		vddp_vemmc_p_reg {
			virt-domain = <PMIC_VDDP_VEMMC_P>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_cam_prim_digital_reg {
			virt-domain = <PMIC_VDD_CAM_PRIM_DIGITAL>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_cam_prim_io_reg {
			virt-domain = <PMIC_VDD_CAM_PRIM_IO>;
			pmu-domain = <PMIC_DOMAIN_PMIC_LDO9>;
		};

		vdd_cam_prim_af_reg {
			virt-domain = <PMIC_VDD_CAM_PRIM_AF>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_cam_sec_digital_reg {
			virt-domain = <PMIC_VDD_CAM_SEC_DIGITAL>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_cam_sec_io_reg {
			virt-domain = <PMIC_VDD_CAM_SEC_IO>;
			pmu-domain = <PMIC_DOMAIN_PMIC_LDO9>;
		};

		vdd_cam_sec_af_reg {
			virt-domain = <PMIC_VDD_CAM_SEC_AF>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_prim_disp_backlight_reg {
			virt-domain = <PMIC_VDD_PRIM_DISP_BACKLIGHT>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_sd_card_reg {
			virt-domain = <PMIC_VDD_SD_CARD>;
			pmu-domain = <PMIC_DOMAIN_PMIC_LDO8>;
		};

		vdd_emmc_reg {
			virt-domain = <PMIC_VDD_EMMC>;
			pmu-domain = <PMIC_DOMAIN_PMIC_BUCK4>;
		};

		vdd_vcpu_reg {
			virt-domain = <PMIC_VDD_VCPU>;
			pmu-domain = <PMIC_DOMAIN_PMIC_BUCK1>;
		};

		vdd_lvds_1v8_reg {
			virt-domain = <PMIC_VDD_LVDS_1V8>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_h_5v_reg {
			virt-domain = <PMIC_VDD_H_5V>;
			pmu-domain = <PMIC_DOMAIN_PMIC_BOOST>;
		};

		vdd_gpu_reg {
			virt-domain = <PMIC_VDD_GPU>;
			pmu-domain = <PMIC_DOMAIN_PMIC_BUCK2>;
		};

		vdd_lcd_dsi_reg {
			virt-domain = <PMIC_VDD_LCD_DSI>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_gps_2v5_reg {
			virt-domain = <PMIC_VDD_GPS_2V5>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_dif_lcd_rgb_reg {
			virt-domain = <PMIC_VDD_DIF_LCD_RGB>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};

		vdd_otg_5v_reg {
			virt-domain = <PMIC_VDD_OTG_5V>;
			pmu-domain = <PMIC_DOMAIN_PMIC_OTG_5V>;
		};

		vdd_deprecated_reg {
			virt-domain = <PMIC_VDD_DEPRECATED>;
			pmu-domain = <PMIC_DOMAIN_NOTCFG>;
		};
	};
};

&usb {
	dr_mode = "host";
};

&phy {
	intel,usb-vbus-gpio = <&xgold_pmx_gpio 15 0>;
	intel,usb-vbus-reset-time-ms = <20>; /* sleep 20 ms */
	intel,otg-host-chgdet;
	intel,otg-suspend;
	dr_mode = "host";
	intel,trim-value = < 0x007383da 0x007383da >;
};

&prh_vmm {
	prh_prim_camera {
		io_volt = <PMIC_VDD_CAM_PRIM_IO  PMIC_VOLTAGE_3V20>;
		analog = <PMIC_VDD_CAM_PRIM_ANALOG  PMIC_VOLTAGE_1V80>;
		digital = <PMIC_VDD_CAM_PRIM_DIGITAL  PMIC_VOLTAGE_1V20>;
		mipi_csi = <PMIC_VDD_MIPI_CSI  PMIC_VOLTAGE_1V17>;
	};

	prh_sec_camera {
		io_volt = <PMIC_VDD_CAM_SEC_IO  PMIC_VOLTAGE_3V20>;
		analog = <PMIC_VDD_CAM_SEC_ANALOG  PMIC_VOLTAGE_1V80>;
		digital = <PMIC_VDD_CAM_SEC_DIGITAL  PMIC_VOLTAGE_1V20>;
		mipi_csi = <PMIC_VDD_MIPI_CSI  PMIC_VOLTAGE_1V17>;
	};
};

&lemmc {
	regulator-always-on;
};

#ifndef PTEST_KERNEL
&gnss {
	pinctrl-names = "default", "sleep", "inactive", "default_lna",
	"inactive_lna", "default_fta", "inactive_fta", "gnss_default",
	"gnss_inactive";
	pinctrl-0 = <&tcxo_agold_default_pins>;
	pinctrl-1 = <&tcxo_agold_sleep_pins>;
	pinctrl-2 = <&tcxo_agold_inactive_pins>;
	pinctrl-3 = <&ext_agold_default_pins>;
	pinctrl-4 = <&ext_agold_sleep_pins>;
	pinctrl-5 = <&gnss_agold_default_pins>;
	pinctrl-6 = <&gnss_agold_sleep_pins>;
	pinctrl-7 = <&gnss_default_pins>;
	pinctrl-8 = <&gnss_inactive_pins>;
};
#endif

#ifndef RECOVERY_KERNEL
&afe {
	pinctrl-names = "default", "sleep", "inactive";
	pinctrl-0 = <&dm_agold_default_pins>;
	pinctrl-1 = <&dm_agold_sleep_pins>;
	pinctrl-2 = <&dm_agold_inactive_pins>;
	intel,spk-gpio-sd=<&abb_pmx_gpio 18 0>;
};
#endif

#ifndef RECOVERY_KERNEL
&fmr {
	status = "disabled";
};
#endif

&abb {
	intel,virq,28 = <1>; /* FMRX_EV_ONESHOT */
	intel,virq,29 = <1>; /* FMRX_EV_TUNE */
};

#ifndef PTEST_KERNEL
&lsdio {
	status = "okay";
};

&sdio{
	status = "okay";

	interrupts = < 0 1 >;
	interrupt-parent = <&sdio>;
	#interrupt-cells = < 1 >;
	interrupt-map = <
		0 &pic SDIO_INT IRQ_TYPE_DEFAULT
		1 &eint EINT_EXI0 XGOLD_IRQ_TYPE_EDGE_BOTH
		>;
	interrupt-names = "host", "eint";

	intel,tap_values = <0x080400F5 0x08040004 0x00040004 0x08040004
		0x5CF501A5 0x00F500A5 0x00F500A5>;

	pinctrl-names = "default", "sleep", "inactive";
	pinctrl-0 = <&sdio_default_pins>;
	pinctrl-1 = <&sdio_sleep_pins>;
	pinctrl-2 = <&sdio_inactive_pins>;

	intel,detect_pin = <67>;
	intel,detect_pin_is_active_low;
};

&sd {
	intel,tap_values = <0x080400F5 0x08040004 0x00040004 0x08040004
		0x5CF501A5 0x00F500A5 0x00F500A5>;
	pinctrl-names = "default", "sleep", "inactive";
	pinctrl-0 = <&sdmmc_default_pins>;
	pinctrl-1 = <&sdmmc_sleep_pins>;
	pinctrl-2 = <&sdmmc_inactive_pins>;
};
#endif

&emmc {
	intel,tap_values = <0x080400F5 0x08040004 0x00040004 0x08040004
		0x08040004 0x000400B5 0x000400B5>;
	pinctrl-names = "default", "sleep", "inactive";
	pinctrl-0 = <&emmc_default_pins>;
	pinctrl-1 = <&emmc_sleep_pins>;
	pinctrl-2 = <&emmc_inactive_pins>;
	status = "okay";
};

&nand {
	pinctrl-names = "default", "sleep", "inactive";
	pinctrl-0 = <&nand_function_B_active_pins>;
	pinctrl-1 = <&nand_function_B_sleep_pins>;
	pinctrl-2 = <&nand_function_B_inactive_pins>;
	status = "disabled";
};

&keypad {
	status = "disabled";
	pinctrl-names = "default", "sleep", "inactive";
	pinctrl-0 = <&kp_default_pins>;
	pinctrl-1 = <&kp_sleep_pins>;
	pinctrl-2 = <&kp_inactive_pins>;
	keypad,num-rows = <4>;
	keypad,num-columns = <8>;
	keypad,rows = <3>;
	keypad,columns = <3 4>;
	linux,keymap = <0x03030072	/* KEY_VOLUMEDOWN */
			0x03040073>;	/* KEY_VOLUMEUP */
	//keypad,kp_in1 = <116>;	/*KEY_POWER*/
	keypad,kp_in4 = <114>;  /*KEY_VOLUMEDOWN*/
};

&on_button {
	status = "disabled";
};

&lvds {
	status = "okay";
	pinctrl-names = "default", "sleep", "inactive";
	pinctrl-0 = <&lvds_default_pins>;
	pinctrl-1 = <&lvds_sleep_pins>;
	pinctrl-2 = <&lvds_inactive_pins>;
};

&mipi_dsi {
	status = "disabled";
};

&vop {
	status = "okay";
	rockchip,fb-win-map = <FB_DEFAULT_ORDER>;
	rockchip,iommu-enabled = <1>;
	uhigh_perf_freq = <96000000>;

	rockchip,bcsh-en = <0>;	/* set value as 1 if you want to enable bcsh */
	rockchip,brightness = <128>;
	rockchip,contrast = <256>;
	rockchip,sat-con = <512>;
	rockchip,hue = <0x8000>; /* sin_hue:bit0~bit7; cos_hue:bit8~bit15 */
};

#ifndef RECOVERY_KERNEL
&cif {
	intel,camera-modules-attached = <&camera0 &camera1 &camera2 &camera3
	&camera4 &camera5 &camera6 &camera7 &camera8 &camera9 &camera10 &camera11
	&camera12 &camera13 &camera14 &camera15 &camera16>;
};
#endif
#ifndef RECOVERY_KERNEL
&vpu {
	status = "okay";
};
#endif
#ifndef RECOVERY_KERNEL
&hevc {
	status = "okay";
};
#endif
#include "xgold/agold620/pinctrl-ag620-sf_3gr-svb.dtsi"
#include "xgold/sofia_3gr_soc/pinctrl-sf_3gr-car-rk.dtsi"
